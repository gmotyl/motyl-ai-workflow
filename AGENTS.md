# AGENTS.md - Projects Workspace

This file defines your project registry and workflow for AI agents (Claude Code, Kilocode, Copilot, etc.).

## Projects Registry

| Project | Type | Provider | Notes Path | Repos/Resources |
|---------|------|----------|-----------|-----------------|
| [Add your projects here] | personal/work/freelance | claude/kilocode/copilot/qwen/gemini | `notes/[project]/` | List relevant repositories |

### Example Entry
```
| my-app | work | claude | `notes/my-app/` | git/my-app, git/my-app-backend |
```

## Provider Configuration Files

Each provider has a dedicated configuration file. When you create a project, the appropriate file is generated in `.agent/`:

| Provider | Config File | Setup Command | Key Features |
|----------|-------------|---------------|--------------|
| **Claude Code** | `CLAUDE.md` + `.agent/claude.md` | `npm run setup:claude-code` | Resume sessions, /memo, /note, session tracking |
| **Kilocode** | `KILOCODE.md` + `.agent/kilocode.md` | `npm run setup:kilocode-cli` | Interactive CLI, autonomous mode, multi-turn |
| **GitHub Copilot** | `COPILOT.md` + `.agent/copilot.md` | `npm run setup:copilot` | IDE integration, code completion, chat |
| **QWEN** | `QWEN.md` + `.agent/qwen.md` | `npm run setup:qwen` | DashScope API, multiple models, cost-effective |
| **Google Gemini** | `GEMINI.md` + `.agent/gemini.md` | `npm run setup:gemini` | Vision models, multi-modal, image analysis |
| **Custom** | `[provider].md` | Manual setup | Custom provider support |

**How to use:**
1. Each project's `.agent/config.json` specifies the provider
2. Workspace root has `[PROVIDER].md` with setup and usage details
3. Project's `.agent/[provider].md` has quick reference
4. Generated automatically by `create-project.sh`

## Project-Specific Rules

### Default Behavior (All Projects)

**Commits:**
- After milestone reached ask whether to commit (Not automatic)
- Prevent accumulation of uncommitted changes while respecting user control

**Planning Mode:**
- Agent enters planning mode after every session resume
- Use brainstorming skill for design review
- Provide architecture clarity before implementation

**To override:** Add project-specific row below the default rules.

## Session Tracking

Session tracking is active. All messages are part of a single session until you write "session end" or "end session".

### Session End

When you write "session end" or "end session":

1. Create new `notes/[project]/progress/[date]-slug.md` (always create fresh file)
2. Progress file content:
   - Context of tasks completed in this session
   - Results/outcomes achieved
   - Next steps or blockers discovered
   - Useful context for resuming work
3. Commit and push to remote if configured
4. Propose Todoist tasks if something is left to do (format: `[project-name] Task description`)
5. Clear context and start a new session automatically

### Resume Session

Usage: `resume [project-name]` or just `resume`

Load recent context:

1. Load most recent progress file from `notes/[project]/progress/`
2. Read PROJECT.md to get repository locations and key context
3. Display brief formatted resume with last session context

## Commands

Commands in `commands/` folder (if created). Use `/command` syntax:

- `/memo` - Quick capture a thought or note
- `/note` - Process meeting transcripts or session notes
- `/question` or `/q` - Query project knowledge base
- `/bootstrap` - Initialize PROJECT.md and _index.json
- `/resume` - Quick session resume (progress + PROJECT.md only)

## Code Style Guidelines

### TypeScript/JavaScript

- Use TypeScript when possible
- Explicit types for function parameters and return values
- Use `const` by default, `let` only when reassignment needed
- Prefer `async/await` over raw promises
- Use optional chaining: `obj?.prop` and nullish coalescing: `??`

### Error Handling

- Always handle promise rejections
- Use `try/catch` with meaningful error messages
- Propagate errors up with context: `throw new Error(\`Failed to X: ${err.message}\`)`

### Naming Conventions

| Type | Convention | Example |
|------|-----------|---------|
| Variables/Functions | camelCase | `getUserData`, `isValid` |
| Constants | SCREAMING_SNAKE_CASE | `MAX_RETRIES` |
| Classes | PascalCase | `UserService` |
| Files | kebab-case | `user-service.ts` |

---

**Generated by:** motyl-ai-workflow template
**Last updated:** Use `scripts/register-project.sh` to add new projects
